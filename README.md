#  EXIF EXTRACT

`exif-extract` is a thin wrapper for `exiftool-vendored` offering a simple API and basic configuration. At its core it is designed to iterate over the content of target directories searching for targeted media types, and gather EXIF metadata which is returned as a JavaScript object, or written to the filesystem as JSON.

## Installation with npm via github

To install:

```
    npm i
```

This table is a living documentation of the keys populated by Adobe Bridge's 'IPTC CORE' metadata fields as extracted using `exiftool-vendored` which this script relies on.

| ADOBE BRIDGE FIELD       | EXIFTOOL KEYS (JPEG)                                                     | ASYMMETRICAL ALTERNATIVES      |
| ------------------------ | ------------------------------------------------------------------------ | ------------------------------ |
| Creator                  | `Creator<Array>`, `Artist<String>`, `By-line<String>`                    | n/a                            |
| Creator Job Title        | `AuthorsPosition<String>`, `By-lineTitle<String>`                        | n/a                            |
| Creator Address          | `CreatorContactInfo<String>`, `CiAdrExtadr<String>`                      | `CreatorAddress<String>`       |
| Creator City             | `CiAdrCity<String>`                                                      | `CreatorCity<String>`          |
| Creator State/Province   | `CiAdrRegion<String>`                                                    | `CreatorRegion<String>`        |
| Creator Postal Code      | `CiAdrPcode<String>`                                                     | `CreatorPostalCode<String>`    |
| Creator Country          | `CiAdrCtry<String>`                                                      | `CreatorCountry<String>`       |
| Creator Phone(s)         | `CiTelWork<String>`                                                      | `CreatorWorkTelephone<String>` |
| Creator Email(s)         | `CiEmailWork<String>`                                                    | `CreatorWorkEmail<String>`     |
| Creator Website(s)       | `CiUrlWork<String>`                                                      | `CreatorWorkURL<String>`       |
| Headline                 | `Headline<String>`                                                       | n/a                            |
| Description              | `Description<String>`, `Caption-Abstract<String>`                        | n/a                            |
| Alt Text (accessibility) | `AltTextAccessibility<String>`                                           | n/a                            |
| Extended Description     | `ExtDescrAccessibility<String>`                                          | n/a                            |
| Keywords †               | `Subject<Array>`                                                         | `Keywords<String>`             |
| IPTC Subject Code        | `SubjectCode<String>`                                                    | n/a                            |
| Description Writer       | `CaptionWriter<String>`                                                  | n/a                            |
| Date Created             | `DateCreated<String><Object>`                                            | n/a                            |
| Intellectual Genre       | `IntellectualGenre<String>`                                              | n/a                            |
| IPTC Scene Code          | `Scene<String>`                                                          | n/a                            |
| City                     | `City<String>`                                                           | n/a                            |
| State/Province           | `State<String>`, `Province-State<String>`                                | n/a                            |
| Country                  | `Country<String>`, `Country-PrimaryLocationName<String>`                 | n/a                            |
| ISO COUNTRY CODE         | `CountryCode<String>`, `Country-PrimaryLocationCode<String>`             | n/a                            |
| Title                    | `ObjectName<String>`                                                     | n/a                            |
| Job Identifier           | `TransmissionReference<String>`, `OriginalTransmissionReference<String>` | n/a                            |
| Instructions             | `Instructions<String>`, `SpecialInstructions<String>`                    | n/a                            |
| Credit Line              | `Credit<String>`                                                         | n/a                            |
| Source                   | `Source<String>`                                                         | n/a                            |
| Copyright Notice         | `CopyrightNotice<String>`, `Rights<String>`, `Copyright<String>`         | n/a                            |
| Copyright Status         | `CopyrightFlag<Boolean\null>`                                            | n/a                            |
| Rights Usage Terms       | `UsageTerms<String>`                                                     | n/a                            |

## Asymmetrical Tags

`media-exif-extract` accepts an optional array of metadata tags used to filter the returned metadata object keys, provided they exist and have a value in your media file. Optionally, you may specify if you want to write a default value back to the file if it isn't already populated. This is useful when a tag's value can be assumed and _should_ exist on the media file (i.e., copyright).

An important consideration is that not all tags are available across all media types. However, Adobe Bridge and ExifTool try to help here by writing metadata that is as portable as possible. To achieve this, they may additionally write your data to other tags used for similar purposes or that are more portable across media types.

This can create a condition where some media types might not have that particular key in the list of filtered tags you pass in, so your data won't appear in the returned object or JSON. This is the meaning of Asymmetrical Tags.

† MP3 files, for example, do not have a `Keywords` tag but do have a `Subject` tag. So, for portability, Adobe Bridge will write keywords to both `Subject` and `Keywords` tags. So if your script only passes into the filter `Keywords`, it will never receive `Keywords` data on MP3 files. So, if you have a mix of media types, you may favour `Subject` over `Keywords` or choose to use both.

### Information Groups

Some fields, such as the "Creator: \*" fields in Adobe Bridge, are stored as information groups within a file's metadata. To make it easy to write to these tags, `exiftool-vendored` exposes several 'flattened tags' for convenience.

For example, to write to the Adobe Bridge field "Creator: Website(s)," you could pass back data using the `CreatorWorkURL`.

@TODO - FINISH THIS SECTION.

However, the extracted metadata finds the information under a different name or nested in an object. This is the meaning of Asymmetrical Tags. For example, writing to the `CreatorWorkURL` will write to the same field as the "Creator Website(s)" field in Adobe Bridge. Still, in the object output, you would find your data under `CreatorContactInfo.CiUrlWork` instead.

Further field; notes:
<https://exiftool.org/forum/index.php?topic=6959.0>
<https://exiftool.org/forum/index.php?topic=11094.0>adobebridgeexiftool-vendoredkeythistableisalivingdocumentationofthekeyspopulatedbyadobebridgeiptccoretalreadypopulated.thisisusefulwhenatagtappearinthereturnedobjectorjson.thisisthemeaningofasymmetricaltags.mp3files,forexample,donothavea`keywords`tagbutdohavea`subject`tag.so,forportability,adobebridgewillwritekeywordstoboth`subject`and`keywords`tags.soifyourscriptonlypassesintothefilter`keywords`,itwillneverreceive`keywords`dataonmp3files.so,ifyouhaveamixofmediatypes,youmayfavour`subject`over`keywords`orchoosetouseboth.informationgroupssomefields,suchasthefieldsinadobebridge,arestoredasinformationgroupswithinafileflattenedtagsforconvenience.forexample,towritetotheadobebridgefieldyoucouldpassbackdatausingthe`creatorworkurl`.finishthissection.however,theextractedmetadatafindstheinformationunderadifferentnameornestedinanobject.thisisthemeaningofasymmetricaltags.forexample,writingtothe`creatorworkurl`willwritetothesamefieldasthefieldinadobebridge.still,intheobjectoutput,youwouldfindyourdataunder`creatorcontactinfo.ciurlwork`instead.furtherfieldnotesadobebridgeexiftool-vendoredkeythistableisalivingdocumentationofthekeyspopulatedbyadobebridgeiptccoretalreadypopulated.thisisusefulwhenatagtappearinthereturnedobjectorjson.thisisthemeaningofasymmetricaltags.mp3files,forexample,donothavea`keywords`tagbutdohavea`subject`tag.so,forportability,adobebridgewillwritekeywordstoboth`subject`and`keywords`tags.soifyourscriptonlypassesintothefilter`keywords`,itwillneverreceive`keywords`dataonmp3files.so,ifyouhaveamixofmediatypes,youmayfavour`subject`over`keywords`orchoosetouseboth.informationgroupssomefields,suchasthefieldsinadobebridge,arestoredasinformationgroupswithinafileflattenedtagsforconvenience.forexample,towritetotheadobebridgefieldyoucouldpassbackdatausingthe`creatorworkurl`.finishthissection.however,theextractedmetadatafindstheinformationunderadifferentnameornestedinanobject.thisisthemeaningofasymmetricaltags.forexample,writingtothe`creatorworkurl`willwritetothesamefieldasthefieldinadobebridge.still,intheobjectoutput,youwouldfindyourdataunder`creatorcontactinfo.ciurlwork`instead.furtherfieldnotesadobebridgeexiftool-vendoredkeythistableisalivingdocumentationofthekeyspopulatedbyadobebridgeiptccoretalreadypopulated.thisisusefulwhenatagtappearinthereturnedobjectorjson.thisisthemeaningofasymmetricaltags.mp3files,forexample,donothavea`keywords`tagbutdohavea`subject`tag.so,forportability,adobebridgewillwritekeywordstoboth`subject`and`keywords`tags.soifyourscriptonlypassesintothefilter`keywords`,itwillneverreceive`keywords`dataonmp3files.so,ifyouhaveamixofmediatypes,youmayfavour`subject`over`keywords`orchoosetouseboth.informationgroupssomefields,suchasthefieldsinadobebridge,arestoredasinformationgroupswithinafileflattenedtagsforconvenience.forexample,towritetotheadobebridgefieldyoucouldpassbackdatausingthe`creatorworkurl`.finishthissection.however,theextractedmetadatafindstheinformationunderadifferentnameornestedinanobject.thisisthemeaningofasymmetricaltags.forexample,writingtothe`creatorworkurl`willwritetothesamefieldasthefieldinadobebridge.still,intheobjectoutput,youwouldfindyourdataunder`creatorcontactinfo.ciurlwork`instead.furtherfieldnotesadobebridgeexiftool-vendoredthistableisalivingdocumentationofthekeyspopulatedbyadobebridgeiptccoretalreadypopulated.thisisusefulwhenatagtappearinthereturnedobjectorjson.thisisthemeaningofasymmetricaltags.mp3files,forexample,donothavea`keywords`tagbutdohavea`subject`tag.so,forportability,adobebridgewillwritekeywordstoboth`subject`and`keywords`tags.soifyourscriptonlypassesintothefilter`keywords`,itwillneverreceive`keywords`dataonmp3files.so,ifyouhaveamixofmediatypes,youmayfavour`subject`over`keywords`orchoosetouseboth.informationgroupssomefields,suchasthefieldsinadobebridge,arestoredasinformationgroupswithinafileflattenedtagsforconvenience.forexample,towritetotheadobebridgefieldyoucouldpassbackdatausingthe`creatorworkurl`.finishthissection.however,theextractedmetadatafindstheinformationunderadifferentnameornestedinanobject.thisisthemeaningofasymmetricaltags.forexample,writingtothe`creatorworkurl`willwritetothesamefieldasthefieldinadobebridge.still,intheobjectoutput,youwouldfindyourdataunder`creatorcontactinfo.ciurlwork`instead.furtherfieldnotesadobebridgeexiftool-vendoredthistableisalivingdocumentationofthekeyspopulatedbyadobebridgeiptccoretalreadypopulated.thisisusefulwhenatagtappearinthereturnedobjectorjson.thisisthemeaningofasymmetricaltags.mp3files,forexample,donothavea`keywords`tagbutdohavea`subject`tag.so,forportability,adobebridgewillwritekeywordstoboth`subject`and`keywords`tags.soifyourscriptonlypassesintothefilter`keywords`,itwillneverreceive`keywords`dataonmp3files.so,ifyouhaveamixofmediatypes,youmayfavour`subject`over`keywords`orchoosetouseboth.informationgroupssomefields,suchasthefieldsinadobebridge,arestoredasinformationgroupswithinafileflattenedtagsforconvenience.forexample,towritetotheadobebridgefieldyoucouldpassbackdatausingthe`creatorworkurl`.finishthissection.however,theextractedmetadatafindstheinformationunderadifferentnameornestedinanobject.thisisthemeaningofasymmetricaltags.forexample,writingtothe`creatorworkurl`willwritetothesamefieldasthefieldinadobebridge.still,intheobjectoutput,youwouldfindyourdataunder`creatorcontactinfo.ciurlwork`instead.furtherfieldnotesadobebridgeexiftool-vendoredthistableisalivingdocumentationofthekeyspopulatedbyadobebridgeiptccoretalreadypopulated.thisisusefulwhenatagtappearinthereturnedobjectorjson.thisisthemeaningofasymmetricaltags.mp3files,forexample,donothavea`keywords`tagbutdohavea`subject`tag.so,forportability,adobebridgewillwritekeywordstoboth`subject`and`keywords`tags.soifyourscriptonlypassesintothefilter`keywords`,itwillneverreceive`keywords`dataonmp3files.so,ifyouhaveamixofmediatypes,youmayfavour`subject`over`keywords`orchoosetouseboth.informationgroupssomefields,suchasthefieldsinadobebridge,arestoredasinformationgroupswithinafileflattenedtagsforconvenience.forexample,towritetotheadobebridgefieldyoucouldpassbackdatausingthe`creatorworkurl`.finishthissection.however,theextractedmetadatafindstheinformationunderadifferentnameornestedinanobject.thisisthemeaningofasymmetricaltags.forexample,writingtothe`creatorworkurl`willwritetothesamefieldasthefieldinadobebridge.still,intheobjectoutput,youwouldfindyourdataunder`creatorcontactinfo.ciurlwork`instead.furtherfieldnotesextract`exif-extract`isathinwrapperfor`exiftool-vendored`offeringasimpleapiandbasicconfiguration.atitscoreitisdesignedtoiterateovertargetdirectoriesformediafielsadobebridgeexiftool-vendoredthistableisalivingdocumentationofthekeyspopulatedbyadobebridgeiptccoretalreadypopulated.thisisusefulwhenatagtappearinthereturnedobjectorjson.thisisthemeaningofasymmetricaltags.mp3files,forexample,donothavea`keywords`tagbutdohavea`subject`tag.so,forportability,adobebridgewillwritekeywordstoboth`subject`and`keywords`tags.soifyourscriptonlypassesintothefilter`keywords`,itwillneverreceive`keywords`dataonmp3files.so,ifyouhaveamixofmediatypes,youmayfavour`subject`over`keywords`orchoosetouseboth.informationgroupssomefields,suchasthefieldsinadobebridge,arestoredasinformationgroupswithinafileflattenedtagsforconvenience.forexample,towritetotheadobebridgefieldyoucouldpassbackdatausingthe`creatorworkurl`.finishthissection.however,theextractedmetadatafindstheinformationunderadifferentnameornestedinanobject.thisisthemeaningofasymmetricaltags.forexample,writingtothe`creatorworkurl`willwritetothesamefieldasthefieldinadobebridge.still,intheobjectoutput,youwouldfindyourdataunder`creatorcontactinfo.ciurlwork`instead.furtherfieldnotes exifextract`exif-extract`isathinwrapperfor`exiftool-vendored`offeringasimpleapiandbasicconfiguration.atitscoreitisdesignedtoiterateoverthecontentoftargetdirectoriessearchingfortargetedmediatypes,andgatherexifmetadatawhichisreturnedasajavascriptobject,orwrittentothefilesystemasjson.adobebridgeexiftool-vendoredthistableisalivingdocumentationofthekeyspopulatedbyadobebridgeiptccoretalreadypopulated.thisisusefulwhenatagtappearinthereturnedobjectorjson.thisisthemeaningofasymmetricaltags.mp3files,forexample,donothavea`keywords`tagbutdohavea`subject`tag.so,forportability,adobebridgewillwritekeywordstoboth`subject`and`keywords`tags.soifyourscriptonlypassesintothefilter`keywords`,itwillneverreceive`keywords`dataonmp3files.so,ifyouhaveamixofmediatypes,youmayfavour`subject`over`keywords`orchoosetouseboth.informationgroupssomefields,suchasthefieldsinadobebridge,arestoredasinformationgroupswithinafileflattenedtagsforconvenience.forexample,towritetotheadobebridgefieldyoucouldpassbackdatausingthe`creatorworkurl`.finishthissection.however,theextractedmetadatafindstheinformationunderadifferentnameornestedinanobject.thisisthemeaningofasymmetricaltags.forexample,writingtothe`creatorworkurl`willwritetothesamefieldasthefieldinadobebridge.still,intheobjectoutput,youwouldfindyourdataunder`creatorcontactinfo.ciurlwork`instead.furtherfieldnotes exifextract`exif-extract`isathinwrapperfor`exiftool-vendored`offeringasimpleapiandbasicconfiguration.atitscoreitisdesignedtoiterateoverthecontentoftargetdirectoriessearchingfortargetedmediatypes,andgatherexifmetadatawhichisreturnedasajavascriptobject,orwrittentothefilesystemasjson.installationwithnpmviagithubthistableisalivingdocumentationofthekeyspopulatedbyadobebridgeiptccoretalreadypopulated.thisisusefulwhenatagtappearinthereturnedobjectorjson.thisisthemeaningofasymmetricaltags.mp3files,forexample,donothavea`keywords`tagbutdohavea`subject`tag.so,forportability,adobebridgewillwritekeywordstoboth`subject`and`keywords`tags.soifyourscriptonlypassesintothefilter`keywords`,itwillneverreceive`keywords`dataonmp3files.so,ifyouhaveamixofmediatypes,youmayfavour`subject`over`keywords`orchoosetouseboth.informationgroupssomefields,suchasthefieldsinadobebridge,arestoredasinformationgroupswithinafileflattenedtagsforconvenience.forexample,towritetotheadobebridgefieldyoucouldpassbackdatausingthe`creatorworkurl`.finishthissection.however,theextractedmetadatafindstheinformationunderadifferentnameornestedinanobject.thisisthemeaningofasymmetricaltags.forexample,writingtothe`creatorworkurl`willwritetothesamefieldasthefieldinadobebridge.still,intheobjectoutput,youwouldfindyourdataunder`creatorcontactinfo.ciurlwork`instead.furtherfieldnotes
